<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tag Filtering Test</title>
    <style>
        body {
            font-family: monospace;
            background: #000;
            color: #0f0;
            padding: 20px;
        }

        .video-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }

        .video-card {
            border: 1px solid #0f0;
            padding: 10px;
            cursor: pointer;
        }

        .video-tags {
            margin-top: 10px;
        }

        .tag {
            display: inline-block;
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid #0f0;
            padding: 2px 8px;
            margin: 2px;
            cursor: pointer;
            font-size: 12px;
        }

        .tag:hover {
            background: rgba(0, 255, 0, 0.4);
        }

        .active-filter {
            background: #0f0;
            color: #000;
            padding: 10px;
            margin: 20px 0;
            display: none;
        }

        .active-filter.show {
            display: block;
        }

        .clear-filter {
            background: #000;
            color: #0f0;
            border: 1px solid #0f0;
            padding: 5px 10px;
            cursor: pointer;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <h1>Tag Filtering Demo</h1>

    <div class="active-filter" id="activeFilter">
        Filtering by: <span id="filterTag"></span>
        <button class="clear-filter" onclick="clearFilter()">Clear</button>
    </div>

    <div class="video-grid" id="videoGrid"></div>

    <script>
        // Sample videos with tags
        const videos = [
            { id: 1, title: "Dance Video 1", tags: ["#dance", "#bodyscript", "#movement"] },
            { id: 2, title: "Martial Arts", tags: ["#martial", "#bodyscript", "#sports"] },
            { id: 3, title: "Yoga Flow", tags: ["#yoga", "#bodyscript", "#wellness"] },
            { id: 4, title: "Dance Video 2", tags: ["#dance", "#bodyscript", "#hiphop"] },
            { id: 5, title: "Boxing Training", tags: ["#martial", "#bodyscript", "#boxing"] },
            { id: 6, title: "Ballet Performance", tags: ["#dance", "#bodyscript", "#ballet"] }
        ];

        let currentVideos = [...videos];
        let activeTag = null;

        function renderVideos() {
            const grid = document.getElementById('videoGrid');
            grid.innerHTML = '';

            currentVideos.forEach(video => {
                const card = document.createElement('div');
                card.className = 'video-card';

                const tagsHTML = video.tags.map(tag =>
                    `<span class="tag" onclick="filterByTag('${tag}')">${tag}</span>`
                ).join('');

                card.innerHTML = `
                    <h3>${video.title}</h3>
                    <div class="video-tags">${tagsHTML}</div>
                `;

                grid.appendChild(card);
            });

            console.log(`Rendered ${currentVideos.length} videos`);
        }

        function filterByTag(tag) {
            activeTag = tag;
            document.getElementById('filterTag').textContent = tag;
            document.getElementById('activeFilter').classList.add('show');

            currentVideos = videos.filter(video =>
                video.tags.includes(tag)
            );

            console.log(`Filtering by ${tag}: found ${currentVideos.length} videos`);
            renderVideos();
        }

        function clearFilter() {
            activeTag = null;
            document.getElementById('activeFilter').classList.remove('show');
            currentVideos = [...videos];
            renderVideos();
        }

        // Initial render
        renderVideos();
        console.log('Tag filtering demo loaded. Click any tag to filter.');
    </script>
</body>
</html>